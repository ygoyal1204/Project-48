var wall1, wall2, wall3, wall4, wall5, wall6, wall7, wall8, wall9, wall10, wall11, wall12, wall13, wall14, wall15, wall16, wall17, wall18, wall19, wall20, wall21, wall22;
var wall23, wall24, wall25, wall26, wall27, wall28, wall29, wall30, wall31, wall32, wall33, wall34, wall35, wall36, wall37, wall38, wall39, wall40;
var wall41, wall42, wall43, wall44, wall45, wall46, wall47, wall48, wall49, wall50, wall51, wall52, wall53, wall54, wall55, wall56, wall57, wall58, wall59, wall60;
var wall61, wall62, wall63, wall64, wall65, wall66, wall67, wall68, wall69, wall70, wall71, wall72, wall73, wall74, wall75, wall76, wall77, wall78, wall79, wall80;
var wall81, wall82, wall83, wall84, wall85, wall86, wall87, wall88, wall89, wall90;
var database;
var form;
var player;
var game;
var gameState =0;
var playerCount;
var allPlayers;
var canvas;
var player1Img, player2Img, player3Img, player4Img;
var player1;
var trophy, trophyImg;
var player2, player3, player4;
var sword1, sword2, sword3, sword4, swordImg;
var medkit1, medkit2, medkit3, medkit4;
var medkitImg;
var ghost1, ghost2, ghost3, ghost4, ghostImg;
var jewel1, jewel2, jewel3, jewel4, jewelImg;
var monster1, monster2, monsterImg;
var cash1, cash2, cashImg;
var obstacle1, obstacle2, obstacle3, obstacle4, obstacleImg;

function preload(){
   player1Img = loadImage("animation/player1.png");
   player2Img = loadImage("animation/player2.png");
   player3Img = loadImage("animation/player3.png");
   player4Img = loadImage("animation/player4.png");
   trophyImg = loadImage("animation/trophy1.png");
   swordImg = loadImage("animation/sword.png");
   medkitImg = loadImage("animation/medkit.png");
   ghostImg = loadImage("animation/obstacle1.png");
   jewelImg = loadImage("animation/jwell.png");
   monsterImg = loadImage("animation/obstacle2.png");
   cashImg = loadImage("animation/cash.png");
   obstacleImg = loadImage("animation/obstacle3.png");
}

function setup() {
  canvas = createCanvas(800, 800);

  database = firebase.database();
  game = new Game();
  game.getState();
  game.start();

  wall1 = createSprite(65, 53, 15, 100);
  wall1.shapeColor = rgb(135, 48, 48);
  wall2 = createSprite(70, 150, 120, 15);
  wall2.shapeColor = rgb(135, 48, 48);
  wall3 = createSprite(120, 100, 15, 110);
  wall3.shapeColor = rgb(135, 48, 48);
  wall4 = createSprite(170, 200, 100, 15);
  wall4.shapeColor = rgb(135, 48, 48);
  wall5 = createSprite(180, 60, 15, 110);
  wall5.shapeColor = rgb(135, 48, 48);
  wall6 = createSprite(230, 40, 90, 15);
  wall6.shapeColor = rgb(135, 48, 48);
  wall7 = createSprite(60, 230, 15, 90);
  wall7.shapeColor = rgb(135, 48, 48);
  wall8 = createSprite(235, 105, 15, 95);
  wall8.shapeColor = rgb(135, 48, 48);
  wall9 = createSprite(38, 310, 90, 15);
  wall9.shapeColor = rgb(135, 48, 48);
  wall10 = createSprite(285, 200, 15, 105);
  wall10.shapeColor = rgb(135, 48, 48);
  wall11 = createSprite(355, 80, 90, 15);
  wall11.shapeColor = rgb(135, 48, 48);
  wall12 = createSprite(230, 245, 100, 15);
  wall12.shapeColor = rgb(135, 48, 48);
  wall13 = createSprite(330, 185, 15, 120);
  wall13.shapeColor = rgb(135, 48, 48);
  wall14 = createSprite(305, 275, 120, 15);
  wall14.shapeColor = rgb(135, 48, 48);
  wall15 = createSprite(110, 270, 15, 100);
  wall15.shapeColor = rgb(135, 48, 48);
  wall16 = createSprite(70, 370, 15, 90);
  wall16.shapeColor = rgb(135, 48, 48);
  wall17 = createSprite(175, 350, 15, 100);
  wall17.shapeColor = rgb(135, 48, 48);
  wall18 = createSprite(220, 330, 90, 15);
  wall18.shapeColor = rgb(135, 48, 48);
  wall19 = createSprite(270, 375, 95, 15);
  wall19.shapeColor = rgb(135, 48, 48);
  wall20 = createSprite(320, 350, 15, 70);
  wall20.shapeColor = rgb(135, 48, 48);
  wall21 = createSprite(130, 365, 85, 15);
  wall21.shapeColor = rgb(135, 48, 48);
  wall22 = createSprite(380, 170, 100, 15);
  wall22.shapeColor = rgb(135, 48, 48);

  wall23 = createSprite(800-65, 53, 15, 100);
  wall23.shapeColor = rgb(135, 48, 48);
  wall24 = createSprite(800-70, 150, 120, 15);
  wall24.shapeColor = rgb(135, 48, 48);
  wall25 = createSprite(800-120, 100, 15, 110);
  wall25.shapeColor = rgb(135, 48, 48);
  wall26 = createSprite(800-170, 200, 100, 15);
  wall26.shapeColor = rgb(135, 48, 48);
  wall27 = createSprite(800-180, 60, 15, 110);
  wall27.shapeColor = rgb(135, 48, 48);
  wall28 = createSprite(800-230, 40, 90, 15);
  wall28.shapeColor = rgb(135, 48, 48);
  wall29 = createSprite(800-60, 230, 15, 90);
  wall29.shapeColor = rgb(135, 48, 48);
  wall30 = createSprite(800-235, 105, 15, 95);
  wall30.shapeColor = rgb(135, 48, 48);
  wall31 = createSprite(800-38, 310, 90, 15);
  wall31.shapeColor = rgb(135, 48, 48);
  wall32 = createSprite(800-285, 200, 15, 105);
  wall32.shapeColor = rgb(135, 48, 48);
  wall33 = createSprite(800-355, 80, 90, 15);
  wall33.shapeColor = rgb(135, 48, 48);
  wall34 = createSprite(800-230, 245, 100, 15);
  wall34.shapeColor = rgb(135, 48, 48);
  wall35 = createSprite(800-330, 185, 15, 120);
  wall35.shapeColor = rgb(135, 48, 48);
  wall36 = createSprite(800-305, 275, 120, 15);
  wall36.shapeColor = rgb(135, 48, 48);
  wall37 = createSprite(800-110, 270, 15, 100);
  wall37.shapeColor = rgb(135, 48, 48);
  wall38 = createSprite(800-70, 370, 15, 90);
  wall38.shapeColor = rgb(135, 48, 48);
  wall39 = createSprite(800-175, 350, 15, 100);
  wall39.shapeColor = rgb(135, 48, 48);
  wall40 = createSprite(800-220, 330, 90, 15);
  wall40.shapeColor = rgb(135, 48, 48);
  wall41 = createSprite(800-270, 375, 95, 15);
  wall41.shapeColor = rgb(135, 48, 48);
  wall42 = createSprite(800-320, 350, 15, 70);
  wall42.shapeColor = rgb(135, 48, 48);
  wall43 = createSprite(800-130, 365, 85, 15);
  wall43.shapeColor = rgb(135, 48, 48);
  wall44 = createSprite(800-380, 170, 100, 15);
  wall44.shapeColor = rgb(135, 48, 48);

  wall45 = createSprite(800-65, 800-53, 15, 100);
  wall45.shapeColor = rgb(135, 48, 48);
  wall46 = createSprite(800-70, 800-150, 120, 15);
  wall46.shapeColor = rgb(135, 48, 48);
  wall47 = createSprite(800-120, 800-100, 15, 110);
  wall47.shapeColor = rgb(135, 48, 48);
  wall48= createSprite(800-170, 800-200, 100, 15);
  wall48.shapeColor = rgb(135, 48, 48);
  wall49= createSprite(800-180, 800-60, 15, 110);
  wall49.shapeColor = rgb(135, 48, 48);
  wall50= createSprite(800-230, 800-40, 90, 15);
  wall50.shapeColor = rgb(135, 48, 48);
  wall51= createSprite(800-60, 800-230, 15, 90);
  wall51.shapeColor = rgb(135, 48, 48);
  wall52= createSprite(800-235, 800-105, 15, 95);
  wall52.shapeColor = rgb(135, 48, 48);
  wall53= createSprite(800-38, 800-310, 90, 15);
  wall53.shapeColor = rgb(135, 48, 48);
  wall54 = createSprite(800-285, 800-200, 15, 105);
  wall54.shapeColor = rgb(135, 48, 48);
  wall55 = createSprite(800-355, 800-80, 90, 15);
  wall55.shapeColor = rgb(135, 48, 48);
  wall56 = createSprite(800-230, 800-245, 100, 15);
  wall56.shapeColor = rgb(135, 48, 48);
  wall57 = createSprite(800-330, 800-185, 15, 120);
  wall57.shapeColor = rgb(135, 48, 48);
  wall58 = createSprite(800-305, 800-275, 120, 15);
  wall58.shapeColor = rgb(135, 48, 48);
  wall59 = createSprite(800-110, 800-270, 15, 100);
  wall59.shapeColor = rgb(135, 48, 48);
  wall60 = createSprite(800-70, 800-370, 15, 90);
  wall60.shapeColor = rgb(135, 48, 48);
  wall61 = createSprite(800-175, 800-350, 15, 100);
  wall61.shapeColor = rgb(135, 48, 48);
  wall62 = createSprite(800-220, 800-330, 90, 15);
  wall62.shapeColor = rgb(135, 48, 48);
  wall63 = createSprite(800-320, 800-350, 15, 70);
  wall63.shapeColor = rgb(135, 48, 48);
  wall64 = createSprite(800-130, 800-365, 85, 15);
  wall64.shapeColor = rgb(135, 48, 48);
  wall65 = createSprite(800-380, 800-170, 100, 15);
  wall65.shapeColor = rgb(135, 48, 48);

  wall66 = createSprite(65, 800-53, 15, 100);
  wall66.shapeColor = rgb(135, 48, 48);
  wall67 = createSprite(70, 800-150, 120, 15);
  wall67.shapeColor = rgb(135, 48, 48);
  wall68 = createSprite(120, 800-100, 15, 110);
  wall68.shapeColor = rgb(135, 48, 48);
  wall69 = createSprite(170, 800-200, 100, 15);
  wall69.shapeColor = rgb(135, 48, 48);
  wall70 = createSprite(180, 800-60, 15, 110);
  wall70.shapeColor = rgb(135, 48, 48);
  wall71 = createSprite(230, 800-40, 90, 15);
  wall71.shapeColor = rgb(135, 48, 48);
  wall72 = createSprite(60, 800-230, 15, 90);
  wall72.shapeColor = rgb(135, 48, 48);
  wall73 = createSprite(235, 800-105, 15, 95);
  wall73.shapeColor = rgb(135, 48, 48);
  wall74 = createSprite(38, 800-310, 90, 15);
  wall74.shapeColor = rgb(135, 48, 48);
  wall75 = createSprite(285, 800-200, 15, 105);
  wall75.shapeColor = rgb(135, 48, 48);
  wall76 = createSprite(355, 800-80, 90, 15);
  wall76.shapeColor = rgb(135, 48, 48);
  wall77 = createSprite(230, 800-245, 100, 15);
  wall77.shapeColor = rgb(135, 48, 48);
  wall78 = createSprite(330, 800-185, 15, 120);
  wall78.shapeColor = rgb(135, 48, 48);
  wall79 = createSprite(305, 800-275, 120, 15);
  wall79.shapeColor = rgb(135, 48, 48);
  wall80 = createSprite(110, 800-270, 15, 100);
  wall80.shapeColor = rgb(135, 48, 48);
  wall81 = createSprite(70, 800-370, 15, 90);
  wall81.shapeColor = rgb(135, 48, 48);
  wall82 = createSprite(175, 800-350, 15, 100);
  wall82.shapeColor = rgb(135, 48, 48);
  wall83 = createSprite(220, 800-330, 90, 15);
  wall83.shapeColor = rgb(135, 48, 48);
  wall84 = createSprite(320, 800-350, 15, 70);
  wall84.shapeColor = rgb(135, 48, 48);
  wall85 = createSprite(130, 800-365, 85, 15);
  wall85.shapeColor = rgb(135, 48, 48);
  wall86 = createSprite(380, 800-170, 100, 15);
  wall86.shapeColor = rgb(135, 48, 48);

  wall87 = createSprite(400, 80, 15, 100);
  wall87.shapeColor = rgb(135, 48, 48);
  wall88 = createSprite(400, 170, 15, 140);
  wall88.shapeColor = rgb(135, 48, 48);
  wall89 = createSprite(400, 800-80, 15, 100);
  wall89.shapeColor = rgb(135, 48, 48);
  wall90 = createSprite(400, 800-170, 15, 140);
  wall90.shapeColor = rgb(135, 48, 48);

  trophy = createSprite(400, 400);
  trophy.addImage(trophyImg);
  trophy.scale=0.25;

  sword1 = createSprite(200, 140);
  sword1.addImage(swordImg);
  sword1.scale=0.1;
  sword2 = createSprite(200, 660);
  sword2.addImage(swordImg);
  sword2.scale=0.1;
  sword3 = createSprite(600, 140);
  sword3.addImage(swordImg);
  sword3.scale=0.1;
  sword4 = createSprite(600, 660);
  sword4.addImage(swordImg);
  sword4.scale=0.1;

  medkit1 = createSprite(93, 605);
  medkit1.addImage(medkitImg);
  medkit1.scale = 0.1;
  medkit2 = createSprite(93, 800-605);
  medkit2.addImage(medkitImg);
  medkit2.scale = 0.1;
  medkit3 = createSprite(800-93, 605);
  medkit3.addImage(medkitImg);
  medkit3.scale = 0.1;
  medkit4 = createSprite(800-93, 800-605);
  medkit4.addImage(medkitImg);
  medkit4.scale = 0.1;

  ghost1 = createSprite(285, 690);
  ghost1.addImage(ghostImg);
  ghost1.scale=0.7;
  ghost2 = createSprite(800-285, 690);
  ghost2.addImage(ghostImg);
  ghost2.scale=0.7;
  ghost3 = createSprite(285, 800-690);
  ghost3.addImage(ghostImg);
  ghost3.scale=0.7;
  ghost4 = createSprite(800-285, 800-690);
  ghost4.addImage(ghostImg);
  ghost4.scale=0.7;

  jewel1 = createSprite(360, 755);
  jewel1.addImage(jewelImg);
  jewel1.scale=0.12;
  jewel2 = createSprite(800-360, 755);
  jewel2.addImage(jewelImg);
  jewel2.scale=0.12;
  jewel3 = createSprite(360, 800-755);
  jewel3.addImage(jewelImg);
  jewel3.scale=0.12;
  jewel4 = createSprite(800-360, 800-755);
  jewel4.addImage(jewelImg);
  jewel4.scale=0.12;

  monster1 = createSprite(220, 420);
  monster1.addImage(monsterImg);
  monster1.scale = 0.2;
  monster2 = createSprite(800-220, 420);
  monster2.addImage(monsterImg);
  monster2.scale=0.2;

  cash1 = createSprite(400, 290);
  cash1.addImage(cashImg);
  cash1.scale= 0.13;
  cash2 = createSprite(400, 800-290);
  cash2.addImage(cashImg);
  cash2.scale=0.13;

  obstacle1 = createSprite(145, 260);
  obstacle1.addImage(obstacleImg);
  obstacle2 = createSprite(800-145, 260);
  obstacle2.addImage(obstacleImg);
  obstacle3 = createSprite(145, 800-260);
  obstacle3.addImage(obstacleImg);
  obstacle4 = createSprite(800-145, 800-260);
  obstacle4.addImage(obstacleImg);
}

function draw() {
  background("lightgreen"); 

  if(playerCount === 4){
    game.update(1);
  }
  if(gameState === 1){
    clear();
    game.play();
  }

  text(mouseX+","+mouseY,mouseX,mouseY);
}
